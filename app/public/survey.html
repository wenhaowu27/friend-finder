<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Survey Page</title>


  <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css">
  <script src="https://code.jquery.com/jquery.js"></script>
  <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>

</head>

<body>

    <div class="container">

        <div class="jumbotron" style="background-color: #F3E0BE">
          <h1 class="text-center">
            <span class="fa fa-fire"></span>Friend Finder</h1>
          <br>
          <h2 class="text-center">Take Your Survey</h2>
          <br>
          <div class="text-center">           
            <a href="/">
              <button class="btn btn-lg btn-primary">
                <span class="fa fa-home">   Home</span>
              </button>
            </a>
          </div>
        </div>


    <div class="form-control" style="border: solid 1px lightcoral; color:darkgoldenrod" >

      <div class="row">
        <div class="col-lg-8">
          <div class="card">
            <div class="card-header">
              Registration
            </div>
            <div class="card-body">
              <form role="form">
                <div class="form-group">
                  <label for="urName">Name</label>
                  <input type="text" class="form-control" id="urName">
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    
        <form id="quiz1">
                <p>"Worry about things?</p>                
                <input type="radio" name="answer" value="1">1 Strongly Disgree
                <input type="radio" name="answer" value="2">2 Somewhat Disgree
                <input type="radio" name="answer" value="3">3 Neutral
                <input type="radio" name="answer" value="4">4 Somewhat Agree
                <input type="radio" name="answer" value="5">5 Strongly Agree
            </form>
        <form id="quiz2">
                <p>Make friends easily?</p>                
                <input type="radio" name="answer" value="1">1 Strongly Disgree
                <input type="radio" name="answer" value="2">2 Somewhat Disgree
                <input type="radio" name="answer" value="3">3 Neutral
                <input type="radio" name="answer" value="4">4 Somewhat Agree
                <input type="radio" name="answer" value="5">5 Strongly Agree
            </form>
        <form id="quiz3">
                <p>Have a vivid imagination?</p>                
                <input type="radio" name="answer" value="1">1 Strongly Disgree
                <input type="radio" name="answer" value="2">2 Somewhat Disgree
                <input type="radio" name="answer" value="3">3 Neutral
                <input type="radio" name="answer" value="4">4 Somewhat Agree
                <input type="radio" name="answer" value="5">5 Strongly Agree
            </form>
        <form id="quiz4">
                <p>Trust others?</p>                
                <input type="radio" name="answer" value="1">1 Strongly Disgree
                <input type="radio" name="answer" value="2">2 Somewhat Disgree
                <input type="radio" name="answer" value="3">3 Neutral
                <input type="radio" name="answer" value="4">4 Somewhat Agree
                <input type="radio" name="answer" value="5">5 Strongly Agree
            </form>
        <form id="quiz5">
                <p>Get angry easily?</p>                
                <input type="radio" name="answer" value="1">1 Strongly Disgree
                <input type="radio" name="answer" value="2">2 Somewhat Disgree
                <input type="radio" name="answer" value="3">3 Neutral
                <input type="radio" name="answer" value="4">4 Somewhat Agree
                <input type="radio" name="answer" value="5">5 Strongly Agree
            </form>
        <form id="quiz6">
                <p>Love large parties?</p>                
                <input type="radio" name="answer" value="1">1 Strongly Disgree
                <input type="radio" name="answer" value="2">2 Somewhat Disgree
                <input type="radio" name="answer" value="3">3 Neutral
                <input type="radio" name="answer" value="4">4 Somewhat Agree
                <input type="radio" name="answer" value="5">5 Strongly Agree
            </form>
        <form id="quiz7">
                <p>Use others for my own ends?</p>                
                <input type="radio" name="answer" value="1">1 Strongly Disgree
                <input type="radio" name="answer" value="2">2 Somewhat Disgree
                <input type="radio" name="answer" value="3">3 Neutral
                <input type="radio" name="answer" value="4">4 Somewhat Agree
                <input type="radio" name="answer" value="5">5 Strongly Agree
            </form>
        <form id="quiz8">
                <p>Like to tidy up?</p>                
                <input type="radio" name="answer" value="1">1 Strongly Disgree
                <input type="radio" name="answer" value="2">2 Somewhat Disgree
                <input type="radio" name="answer" value="3">3 Neutral
                <input type="radio" name="answer" value="4">4 Somewhat Agree
                <input type="radio" name="answer" value="5">5 Strongly Agree
            </form>
        <form id="quiz9">
                <p>Take charge?</p>                
                <input type="radio" name="answer" value="1">1 Strongly Disgree
                <input type="radio" name="answer" value="2">2 Somewhat Disgree
                <input type="radio" name="answer" value="3">3 Neutral
                <input type="radio" name="answer" value="4">4 Somewhat Agree
                <input type="radio" name="answer" value="5">5 Strongly Agree
            </form>
        <form id="quiz10">
                <p>Experience my emotions intensely?</p>                
                <input type="radio" name="answer" value="1">1 Strongly Disgree
                <input type="radio" name="answer" value="2">2 Somewhat Disgree
                <input type="radio" name="answer" value="3">3 Neutral
                <input type="radio" name="answer" value="4">4 Somewhat Agree
                <input type="radio" name="answer" value="5">5 Strongly Agree
            </form>
                <br>
                <br>
            <div>
                 
            </div>
            <button id="submitButton" type="submit" class="btn btn-lg btn-primary btn-primary" style="margin-left: 25%"><h4>Submit</h4></button>
    </div>

    <div id="modal1" class="modal">
      <div class="modal-content">
        <h4>Closest Friend Match</h4>
        <div class="divider"></div>
        <h5 id="userMatch"></h5>
        <img id="userMatchImage" class="materialboxed" width="250" src="">
      </div>
      <div class="modal-footer">
        <a href="/survey" class="modal-action modal-close waves-effect waves-green btn-flat">Fill Again!</a>
      </div>
    </div>
  

    
    <script type="text/javascript">  
      
          
      $(document).on("click", "#submitButton", function(event) {
        // event.preventDefault();    
        // Here we grab the form elements
        var newFriend = {
          newName: $("#urName").val().trim(),
          newPhoto: "https://www.clipartmax.com/png/middle/288-2883718_hamster-clipart-hamtaro-hamtaro-y-sus-amigos.png",
          newScore: [ 
            $("#quiz1 input[type='radio']:checked").val(),
            $("#quiz2 input[type='radio']:checked").val(),
            $("#quiz3 input[type='radio']:checked").val(),
            $("#quiz4 input[type='radio']:checked").val(),
            $("#quiz5 input[type='radio']:checked").val(),
            $("#quiz6 input[type='radio']:checked").val(),
            $("#quiz7 input[type='radio']:checked").val(),
            $("#quiz8 input[type='radio']:checked").val(),
            $("#quiz9 input[type='radio']:checked").val(),
            $("#quiz10 input[type='radio']:checked").val()
          ] 
        };   
        // console.log("inside click" , newFriend)        
        // console.log(newFriend);
        
        //---------
        $.post("/api/friends", newFriend)
        .then(function(data) {
          // console.log(data)
				$("#userMatch").text(data.name);
				$("#userMatchImage").attr("src", data.photo);
				$("#modal1").modal("toggle");
			});
        });     
      
    </script>
            
        </div>
         
</body>
</html>